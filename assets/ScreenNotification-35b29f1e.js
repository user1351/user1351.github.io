import{e as l}from"./colors-d16d3c5f.js";import{o as u,c as d,b as I,w as p,n as _,a as s,d as h,e as O,T as N,_ as b}from"./index-ca072c22.js";const x=""+new URL("bell-e7efd870.svg",import.meta.url).href,C={class:"screen-notification__title"},g=["innerHTML"],v={class:"screen-notification__text-wrapper"},E=["innerHTML"];function S(t,e,n,r,a,i){return u(),d("div",{class:_(["screen-notification iface-container",{"screen-notification_mobile":i.isMobile}])},[I(N,{name:`slide-${i.positionClass?i.positionClass:"top"}`,tag:"div",appear:""},{default:p(()=>[i.currentItem?(u(),d("div",{class:_(["screen-notification__item",`screen-notification__item_${i.positionClass}`]),key:i.currentItem.id},[e[1]||(e[1]=s("div",{class:"screen-notification__item-background"},null,-1)),s("div",{class:"screen-notification__circle",style:h({background:i.circleColor})},null,4),s("div",C,[e[0]||(e[0]=s("img",{src:x},null,-1)),s("div",{class:"screen-notification__title-text",innerHTML:i.currentItem.title},null,8,g)]),s("div",v,[s("div",{class:"screen-notification__text",innerHTML:i.currentItem.text},null,8,E)])],2)):O("",!0)]),_:1},8,["name"])],2)}const o={TOP:0,LEFT:1,BOTTOM:2},L={[o.TOP]:"top",[o.LEFT]:"left",[o.BOTTOM]:"bottom"},M={props:["openParams"],data:()=>({lastID:0,queue:[]}),computed:{currentItem(){return this.queue[0]?this.queue[0]:null},positionClass(){if(!this.currentItem)return;const t=this.currentItem.position;return t===void 0?null:L[t]},circleColor(){const t=this.currentItem.color;if(!t)return null;const{r:e,g:n,b:r}=this.hexToRgb(t);return`radial-gradient(39.31% 39.31% at 50% 50%, rgba(${e}, ${n}, ${r}, 0.4) 0%, rgba(${e}, ${n}, ${r}, 0) 100%)`},isMobile(){return this.$root.isMobile}},methods:{hideAll(){this.queue.splice(0,this.queue.length),this.$forceUpdate()},add(t){const e={POSITION:0,TITLE:1,TEXT:2,COLOR:3,DURATION:4},n=JSON.parse(t),r=n[e.POSITION],a=l(n[e.TITLE]),i=l(n[e.TEXT]),m=n[e.COLOR],T=n[e.DURATION],c=++this.lastID,f={id:c,position:r,title:a,text:i,color:m};this.queue.push(f),setTimeout(()=>this.onItemHide(c),T)},onItemHide(t){this.queue=this.queue.filter(e=>e.id!==t),this.$forceUpdate()},hexToRgb(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}}},q=b(M,[["render",S]]);export{q as default};
