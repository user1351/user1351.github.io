import{o as i,c as u,a as s,t as y,e as w,_,i as L,n as x,m as J,r as d,b as a,f as m,w as c,g as C,T as k,F as H,h as O,p as R,j as T,d as I,k as ee,P as te}from"./index-ca072c22.js";import{H as P}from"./Heading-406e701b.js";import{I as ne}from"./Toggle-a5c95a3c.js";import{R as F}from"./RangeSlider-9b533d8b.js";import{w as Z}from"./dom-6a33ced9.js";import{_ as N}from"./hassle_logo_full-94889cfd.js";import{I as se}from"./Back-54fc2d49.js";const oe={class:"input__wrapper"},ie=["lang"],re={key:0,class:"input__placeholder"};function le(n,e,r,v,o,t){return i(),u("div",oe,[s("input",{class:"input",ref:"input",onInput:e[0]||(e[0]=(...l)=>t.handleInput&&t.handleInput(...l)),lang:r.lang},null,40,ie),r.modelValue?w("",!0):(i(),u("div",re,y(r.placeholder),1))])}const ae={props:["placeholder","modelValue","lang"],data(){return{input:this.modelValue}},methods:{handleInput(n){this.$emit("update:modelValue",n.target.value)},loadValue(n){this.input=n,this.$refs.input.value=n,this.$refs.input.dispatchEvent(new Event("input"))}},mounted(){this.loadValue(this.modelValue)},watch:{modelValue(n){this.loadValue(n)}}},Y=_(ae,[["render",le],["__scopeId","data-v-3a37cf77"]]);function de(n,e,r,v,o,t){return i(),u("div",{class:"list-select",onClick:e[0]||(e[0]=l=>n.$emit("click",l))},y(r.value?r.value:r.placeholder),1)}const ue={props:{placeholder:{type:String,default:""},value:{type:String,default:""}},data(){return{}},created(){},methods:{}},ce=_(ue,[["render",de],["__scopeId","data-v-1e9112dd"]]);function _e(n,e,r,v,o,t){return i(),u("div",{class:x(["mobile-btn cursor-pointer",{active:r.active}]),onClick:e[0]||(e[0]=l=>n.$emit("click")),onMouseenter:e[1]||(e[1]=l=>t.setCursorStyle("pointer")),onMouseleave:e[2]||(e[2]=l=>t.setCursorStyle())},[L(n.$slots,"default")],34)}const ge={props:{active:{type:Boolean,default:!1}},data(){return{}},created(){},methods:{setCursorStyle(n){window.setCursorStyle(n)}}},D=_(ge,[["render",_e]]),me={},ve={width:"38",height:"42",viewBox:"0 0 38 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function he(n,e){return i(),u("svg",ve,e[0]||(e[0]=[J('<path d="M15.722 37.2343L27.8538 42L38 31.7519L26.3839 28.4935L15.722 37.2343ZM21.7051 37.5841C21.1126 38.1748 20.1472 38.4305 19.5481 38.155C18.9496 37.8795 18.944 37.1777 19.5369 36.5869C20.1293 35.9962 21.0947 35.7405 21.6939 36.016C22.2929 36.2916 22.2975 36.9934 21.7051 37.5841ZM25.3171 38.8456C24.7247 39.4363 23.7592 39.6921 23.1601 39.4165C22.5616 39.141 22.556 38.4392 23.1489 37.8484C23.7418 37.2577 24.7068 37.002 25.3059 37.2776C25.9045 37.5531 25.9096 38.2549 25.3171 38.8456ZM32.5998 33.1971C33.1922 32.6064 34.1577 32.3506 34.7568 32.6262C35.3553 32.9017 35.3609 33.6035 34.7685 34.1943C34.1762 34.785 33.2106 35.0407 32.6115 34.7651C32.0124 34.4896 32.0074 33.7878 32.5998 33.1971ZM28.9984 32.0167C29.5909 31.426 30.5563 31.1703 31.1554 31.4458C31.7539 31.7214 31.7595 32.4232 31.1666 33.0139C30.5742 33.6046 29.6088 33.8603 29.0096 33.5848C28.4111 33.3093 28.406 32.6075 28.9984 32.0167ZM28.9074 38.4579C29.5059 38.7334 29.5114 39.4353 28.9186 40.026C28.3261 40.6167 27.3607 40.8724 26.7616 40.5969C26.1625 40.3213 26.1575 39.6195 26.7498 39.0288C27.3428 38.4387 28.3082 38.1829 28.9074 38.4579ZM27.5433 30.1838C28.1418 30.4594 28.1474 31.1612 27.5545 31.7519C26.9621 32.3426 25.9966 32.5983 25.3975 32.3228C24.799 32.0473 24.7934 31.3454 25.3863 30.7547C25.9788 30.164 26.9443 29.9088 27.5433 30.1838Z" fill="white"></path><path d="M38 31.7519L34.1321 19.8251L22.5787 15.9986L26.7354 27.199L38 31.7519ZM29.5918 22.2133C30.0061 21.8002 30.8387 21.96 31.4515 22.5711C32.0642 23.1821 32.225 24.0123 31.8103 24.4253C31.396 24.8384 30.5634 24.6785 29.9506 24.0675C29.3378 23.4565 29.1769 22.6263 29.5918 22.2133Z" fill="white"></path><path d="M11.2893 0L0 5.90623L11.2892 10.4293L22.5787 5.21464L11.2893 0ZM11.2893 6.27267C10.4231 6.27267 9.7202 5.79871 9.7202 5.21464C9.7202 4.63007 10.4226 4.1566 11.2893 4.1566C12.156 4.1566 12.8584 4.63056 12.8584 5.21464C12.8579 5.7992 12.1555 6.27267 11.2893 6.27267Z" fill="white"></path><path d="M13.9789 19.9939C14.4787 19.8102 14.8965 20.1009 15.041 20.6581L21.3058 14.4118L22.5787 14.835V5.21464L11.9602 11.5904L11.8906 26.0808L13.0336 22.6596C12.9242 22.4662 12.8586 22.2156 12.8586 21.9187C12.8586 21.0829 13.3605 20.2212 13.9789 19.9939ZM20.8116 8.60955C21.4305 8.38218 21.9318 8.87497 21.9318 9.7102C21.9318 10.5454 21.4305 11.4071 20.8116 11.6345C20.1927 11.8618 19.6914 11.3691 19.6914 10.5338C19.6913 9.6985 20.1927 8.83691 20.8116 8.60955ZM17.6194 14.0743C18.2383 13.847 18.7396 14.3398 18.7396 15.175C18.7396 16.0102 18.2383 16.8719 17.6194 17.0993C17.0005 17.3266 16.4992 16.8338 16.4992 15.9986C16.4992 15.1634 17.001 14.3017 17.6194 14.0743ZM12.8586 13.8932C12.8586 13.0579 13.3599 12.1962 13.9788 11.9689C14.5977 11.7415 15.099 12.2343 15.099 13.0695C15.099 13.9049 14.5977 14.7664 13.9788 14.9938C13.36 15.2212 12.8586 14.7285 12.8586 13.8932Z" fill="white"></path><path d="M0 20.104L11.8906 26.0808L10.6188 11.5904L0 5.90623V20.104ZM8.57436 19.9939C9.19326 20.2212 9.69456 21.0829 9.69456 21.9181C9.69456 22.7534 9.19326 23.2462 8.57436 23.0188C7.95545 22.7914 7.45415 21.9297 7.45415 21.0945C7.45415 20.2593 7.95605 19.7665 8.57436 19.9939ZM5.30947 13.9054C5.92837 14.1327 6.42967 14.9943 6.42967 15.8296C6.42967 16.6649 5.92837 17.1576 5.30947 16.9303C4.69057 16.7029 4.18926 15.8412 4.18926 15.006C4.18916 14.1708 4.69106 13.678 5.30947 13.9054ZM1.94925 8.60954C2.56815 8.83691 3.06946 9.6985 3.06946 10.5338C3.06946 11.369 2.56815 11.8618 1.94925 11.6345C1.33035 11.4071 0.829045 10.5455 0.829045 9.71019C0.829045 8.87497 1.33035 8.38218 1.94925 8.60954Z" fill="white"></path><path d="M22.5787 15.9986L11.8906 26.0808L15.722 37.2343L25.4376 27.5464L22.5787 15.9986ZM17.5014 33.5561C16.9089 34.1469 16.2046 34.1418 15.9287 33.5444C15.6528 32.9472 15.9088 31.9845 16.5013 31.3938C17.0937 30.8031 17.7981 30.8081 18.074 31.405C18.3498 32.0018 18.0939 32.9654 17.5014 33.5561ZM20.7689 21.9805C20.1764 22.5712 19.472 22.5661 19.1962 21.9693C18.9198 21.3726 19.1763 20.4094 19.7688 19.8187C20.3612 19.228 21.0656 19.2331 21.3415 19.8299C21.6179 20.4271 21.3613 21.3898 20.7689 21.9805Z" fill="white"></path>',6)]))}const pe=_(me,[["render",he]]);function fe(n,e,r,v,o,t){const l=d("ShuffleIcon");return i(),u("div",{class:"mobile-btn shuffle-btn",onClick:e[0]||(e[0]=g=>n.$emit("click"))},[a(l,{style:{width:"3.52vh"}})])}const Ce={components:{ShuffleIcon:pe},data(){return{}},created(){},methods:{}},we=_(Ce,[["render",fe],["__scopeId","data-v-fb2948f3"]]);function ye(n,e,r,v,o,t){return i(),u("div",{class:"menu-overlay",onClick:e[0]||(e[0]=l=>n.$emit("click",l))})}const be={data(){return{}},methods:{}},G=_(be,[["render",ye]]),Se={},xe={width:"130",height:"148",viewBox:"0 0 130 148",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Le(n,e){return i(),u("svg",xe,e[0]||(e[0]=[s("path",{d:"M1 0.5V124.514L65 147.371L129 124.514V0.5",stroke:"white"},null,-1)]))}const U=_(Se,[["render",Le]]),$e={},ke={width:"18",height:"15",viewBox:"0 0 18 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ie(n,e){return i(),u("svg",ke,e[0]||(e[0]=[s("path",{d:"M1 9L5 13L17 1",stroke:"#272727","stroke-width":"2"},null,-1)]))}const q=_($e,[["render",Ie]]),Pe={class:"menu-server__container"},Me={key:0,class:"menu-server__online"},Te={class:"gray"};function Ve(n,e,r,v,o,t){const l=d("IconRect"),g=d("IconSelected");return i(),u("div",Pe,[s("div",{class:x(["menu-server",{active:r.active}])},[m(y(t.servers[r.index].name),1),a(l,{class:"rect"}),a(k,{name:"fade"},{default:c(()=>[r.active?(i(),C(g,{key:0,class:"selected"})):w("",!0)]),_:1})],2),t.online[r.index]?(i(),u("div",Me,[m(y(t.online[r.index].players),1),s("div",Te,"/"+y(t.online[r.index].maxPlayers),1)])):w("",!0)])}const Be={props:{index:{type:String,required:!0},active:{type:Boolean,default:!1}},components:{Heading:P,IconRect:U,IconSelected:q},data(){return{}},computed:{servers(){return this.$store.getters["menu/servers"]},online(){return this.$store.getters["menu/online"]}}},He=_(Be,[["render",Ve]]),Ee={class:"menu-servers"};function Ae(n,e,r,v,o,t){const l=d("Heading"),g=d("Server");return i(),u("div",Ee,[a(l,{size:64},{default:c(()=>e[1]||(e[1]=[m("Выберите сервер")])),_:1}),s("div",{class:"menu-servers__list",ref:"list",onWheel:e[0]||(e[0]=(...f)=>t.onScroll&&t.onScroll(...f))},[(i(!0),u(H,null,O(t.servers,(f,h)=>(i(),C(g,{key:h,index:h,active:t.selectedServer==h,onClick:b=>t.selectServer(h)},null,8,["index","active","onClick"]))),128))],544)])}const Ze={components:{Heading:P,Server:He},computed:{servers(){return this.$store.getters["menu/servers"]},selectedServer(){return this.$store.getters["menu/selectedServer"]}},methods:{selectServer(n){this.$store.commit("menu/setSelectedServer",n),this.$emit("change")},onScroll(n){const{deltaY:e}=n;n.preventDefault(),this.$refs.list.scrollLeft+=e}}},W=_(Ze,[["render",Ae],["__scopeId","data-v-7630b315"]]),Ne={},De={width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Oe(n,e){return i(),u("svg",De,e[0]||(e[0]=[s("path",{d:"M20 9L4 18L4 -6.99382e-07L20 9Z",fill:"#272727"},null,-1),s("path",{d:"M8 9L3.97233e-08 14L4.76837e-07 4L8 9Z",fill:"#272727"},null,-1)]))}const Re=_(Ne,[["render",Oe]]),Fe={},Ye={width:"3",height:"19",viewBox:"0 0 3 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ge(n,e){return i(),u("svg",Ye,e[0]||(e[0]=[s("circle",{cx:"1.5",cy:"1.5",r:"1.5",fill:"#F8F6ED"},null,-1),s("path",{d:"M0.9 17.8333L0 5H3L2.1 19L0.9 17.8333Z",fill:"#F8F6ED"},null,-1)]))}const Ue=_(Fe,[["render",Ge]]),qe={},We={width:"617",height:"176",viewBox:"0 0 617 176",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function ze(n,e){return i(),u("svg",We,e[0]||(e[0]=[s("path",{d:"M10.5 0.5H10V1V11.7028L1.60606 22.4421L1.36539 22.75L1.60606 23.0579L10 33.7972V44.5V88V175V175.5H10.5H615.5H616V175V1V0.5H615.5H10.5Z",stroke:"#F8F6ED","stroke-opacity":"0.25"},null,-1)]))}const Ke=_(qe,[["render",ze]]),Qe=""+new URL("hassle_logo-64bd89a4.png",import.meta.url).href,je={class:"menu-welcome__content"},Xe={class:"menu-welcome__form"},Je={class:"menu-welcome__form-content"},et={class:"menu-welcome__form-input"},tt={key:0,class:"menu-welcome__form-input__slug"};function nt(n,e,r,v,o,t){const l=d("Overlay"),g=d("SelectServer"),f=d("Heading"),h=d("Input"),b=d("Select"),p=d("IconNext"),S=d("Button"),V=R("touch");return i(),u("div",{class:x(["menu-welcome",{"menu-welcome_hidden":o.selectServerOpen}])},[o.selectServerOpen?(i(),C(l,{key:0,onClick:e[0]||(e[0]=$=>o.selectServerOpen=!1)})):w("",!0),o.selectServerOpen?(i(),C(k,{key:1,name:"fade"},{default:c(()=>[a(g,{onChange:t.selectServer},null,8,["onChange"])]),_:1})):(i(),u(H,{key:2},[e[7]||(e[7]=s("div",{class:"menu-welcome__after"},null,-1)),s("div",je,[e[6]||(e[6]=s("img",{class:"menu-logo",src:Qe},null,-1)),a(f,{size:64,style:{"line-height":"8.89vh","margin-top":"10.37vh"}},{default:c(()=>e[4]||(e[4]=[m("Добро"),s("br",null,null,-1),m("пожаловать")])),_:1}),s("div",Xe,[s("div",Je,[s("div",et,[a(h,{placeholder:"Имя_Фамилия",onFocus:t.onFocus,onBlur:t.onBlur,modelValue:t.nickName,"onUpdate:modelValue":e[1]||(e[1]=$=>t.nickName=$),onInput:e[2]||(e[2]=$=>t.onChangeInput($)),style:{display:"flex","align-items":"center","justify-content":"center",color:"rgba(255,255,255,0.25)"}},null,8,["onFocus","onBlur","modelValue"]),o.isSlugActive?(i(),u("div",tt)):w("",!0)]),a(b,{placeholder:"Выберите сервер",value:t.selectedServer!=-1?`Сервер ${t.servers[t.selectedServer].name}`:"",style:{"margin-top":"2.96vh"},onClick:e[3]||(e[3]=$=>o.selectServerOpen=!0)},null,8,["value"]),a(k,{name:"fade"},{default:c(()=>[t.validate()?T((i(),C(S,{key:0,style:{"margin-top":"2.96vh"},active:!0},{default:c(()=>[a(p),e[5]||(e[5]=m("Далее"))]),_:1})),[[V,()=>t.next()]]):w("",!0)]),_:1})])])])],64))],2)}const st={components:{Heading:P,Input:Y,Select:ce,Button:D,Overlay:G,ShuffleButton:we,SelectServer:W,IconNext:Re,IconHint:Ue,IconHintBg:Ke},data(){return{selectServerOpen:!1,isActiveHint:!1,name:"",surname:"",isSlugActive:!1}},computed:{servers(){return this.$store.getters["menu/servers"]},selectedServer(){return this.$store.getters["menu/selectedServer"]},nickName:{get(){return this.$store.getters["menu/nickName"]},set(n){this.$store.commit("menu/setNickName",n)}}},created(){this.isSlugActive=!0},methods:{validateName(n){return/^[a-zA-Z_]+$/.test(n)},validate(){return this.nickName.length&&this.selectedServer!=-1},next(){this.$emit("menu:next"),window.App.engine=="default"&&engine.trigger("SaveConnectInfo",this.selectedServer,this.nickName)},selectServer(){this.selectServerOpen=!1},onChangeInput(n){this.$nextTick(()=>{this.validateName(n)||n&&typeof n.slice=="function"&&(this.nickName=n.slice(0,n.length-1))})},onFocus(){this.nickName==="Имя_Фамилия"&&(this.isSlugActive=!1)},onBlur(){this.nickName.length||(this.isSlugActive=!0)}}},ot=_(st,[["render",nt]]);const it={},rt={width:"128",height:"203",viewBox:"0 0 128 203",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function lt(n,e){return i(),u("svg",rt,e[0]||(e[0]=[s("path",{d:"M64 -60.8402L127.5 -38.1616V179.79L64 202.469L0.5 179.79V-38.1616L64 -60.8402Z",stroke:"white","stroke-opacity":"0.25"},null,-1)]))}const at=_(it,[["render",lt]]),dt={class:"menu-player"},ut={class:"menu-player__data"},ct={class:"name"},_t={class:"server"},gt={class:"menu-player__server"},mt={class:"server"};function vt(n,e,r,v,o,t){const l=d("IconRectLong");return i(),u("div",dt,[s("div",ut,[s("div",ct,y(t.nickName),1),s("div",_t,"Сервер "+y(t.servers[t.selectedServer].name),1)]),s("div",gt,[a(l),s("div",mt,y(t.servers[t.selectedServer].name),1)])])}const ht={components:{Heading:P,IconRectLong:at,IconSelected:q},data(){return{}},computed:{servers(){return this.$store.getters["menu/servers"]},selectedServer(){return this.$store.getters["menu/selectedServer"]},nickName(){return this.$store.getters["menu/nickName"]}},methods:{}},z=_(ht,[["render",vt]]),pt={class:"mobile-tabs"};function ft(n,e,r,v,o,t){return i(),u("div",pt,[L(n.$slots,"default")])}const Ct={data(){return{}},created(){},methods:{}},wt=_(Ct,[["render",ft]]),yt={class:"mobile-tab__content"};function bt(n,e,r,v,o,t){return i(),u("div",{class:x(["mobile-tab cursor-pointer",{"mobile-tab_active":r.active}]),onClick:e[0]||(e[0]=l=>n.$emit("click"))},[s("div",yt,[L(n.$slots,"default")])],2)}const St={props:{active:{type:Boolean,default:!1}},data(){return{}},created(){},methods:{}},xt=_(St,[["render",bt]]),Lt={class:"menu-settings__row"};function $t(n,e,r,v,o,t){const l=d("Heading");return i(),u("div",Lt,[r.title?(i(),C(l,{key:0,size:32},{default:c(()=>[m(y(r.title),1)]),_:1})):w("",!0),s("div",{class:"menu-settings__row-content",style:I(r.rowStyle)},[L(n.$slots,"default")],4)])}const kt={props:{title:{type:String,default:""},rowStyle:{type:String,default:""}},components:{Heading:P},data(){return{}},methods:{}},E=_(kt,[["render",$t]]),It={class:"menu-settings-label-bar"},Pt={class:"menu-settings-label-bar__text",style:{color:"rgba(248, 246, 237, 0.8)"}},Mt={class:"menu-settings-label-bar__content",style:{background:"rgba(248, 246, 237, 0.15)"}};function Tt(n,e,r,v,o,t){return i(),u("div",It,[s("div",Pt,y(t.currentLabel[0]),1),s("div",Mt,[s("div",{class:"menu-settings-label-bar__fill",style:I({background:t.currentLabel[1],width:`${t.width}%`})},null,4)])])}const Vt={props:{labels:{type:Array,required:!0},value:{type:Number,default:0},max:{type:Number,default:100}},computed:{currentLabel(){const n=Math.ceil(100/this.labels.length),e=Math.floor(this.width/n);return this.labels[e]},width(){return Math.min(this.value,this.max)/this.max*100}}},Bt=_(Vt,[["render",Tt],["__scopeId","data-v-b91f1efe"]]),Ht={class:"mobile-toggle__text"};function Et(n,e,r,v,o,t){const l=d("Toggle");return i(),u("div",{class:x(["mobile-toggle",{"mobile-toggle_large":r.large}]),onClick:e[0]||(e[0]=g=>t.toggle()),style:{background:"linear-gradient(99.78deg, rgba(248, 246, 237, 0.1) -132.5%, rgba(244, 241, 225, 0) 97.46%)",border:"0.09vh solid rgba(255,255,255,0.25)"}},[s("div",Ht,[L(n.$slots,"default",{},void 0,!0)]),a(l,{modelValue:o.isActive},null,8,["modelValue"])],2)}const At={props:{active:{type:Boolean,default:!1},large:{type:Boolean,default:!1}},components:{Toggle:ne},data(){return{isActive:!1}},created(){this.isActive=this.active},methods:{toggle(){this.isActive=!this.isActive,this.$emit("change",this.isActive)}}},A=_(At,[["render",Et],["__scopeId","data-v-a0e267a7"]]),Zt={class:"steps-range"},Nt={class:"steps-range__content"},Dt={class:"range-title"},Ot={class:"steps-range__slider",id:"slider-container",ref:"sliderContainer"},Rt=["onClick"];function Ft(n,e,r,v,o,t){return i(),u("div",Zt,[s("div",Nt,[s("div",Dt,[L(n.$slots,"default",{},void 0,!0)]),s("div",{class:x(["range-value",{off:!o.selectedIndex}])},y(r.steps[o.selectedIndex]),3)]),s("div",Ot,[s("div",{class:"steps-range__slider-left",id:"slider-left",style:I({background:r.bgColor}),ref:"sliderLeft"},null,4),s("div",{class:x(["steps-range__slider-knob",{knob_mobile:t.isMobile}]),id:"slider-knob",ref:"sliderKnob",onMousedown:e[0]||(e[0]=(...l)=>t.mouseDownHandler&&t.mouseDownHandler(...l)),onTouchstart:e[1]||(e[1]=(...l)=>t.touchStartHandler&&t.touchStartHandler(...l))},[s("div",{class:"steps-range__slider-knob-content",style:I({background:r.bgColor})},null,4)],34),s("div",{class:"steps-range__slider-knobs",onMousedown:e[2]||(e[2]=(...l)=>t.mouseDownHandler&&t.mouseDownHandler(...l)),onClick:e[3]||(e[3]=l=>t.onClickLine(0))},null,32),(i(!0),u(H,null,O(r.steps.length-1,l=>(i(),u("div",{class:"steps-range__slider-knobs",key:l,style:I({left:`${100/(r.steps.length-1)*l}%`}),onClick:g=>t.onClickLine(l)},null,12,Rt))),128)),s("div",{class:"steps-range__slider-right",id:"slider-right",ref:"sliderRight",style:I({height:r.lineHeight})},null,4)],512)])}const Yt={props:{changeValue:{type:Function,required:!1,default:function(){}},value:{required:!0},bgColor:{required:!1,default:"#ffb200"},lineBg:{required:!1,default:"#fff"},lineHeight:{required:!1,default:"6px"},steps:{required:!0}},data(){return{x:0,leftWidth:0,leftSide:null,rightSide:null,selectedIndex:this.value||0}},computed:{isMobile(){return this.$root.isMobile}},mounted(){this.setKnobPos()},methods:{onClickLine(n){this.$emit("value-changed",n),setTimeout(()=>this.setKnobPos(),50)},move(n){Z(()=>{this.$refs.sliderLeft.style.width=`${n}%`,this.$refs.sliderKnob.style.left=`${n}%`,this.$refs.sliderRight.style.width=`${100-n}%`})},setKnobPos(){const r=100/(this.steps.length-1)*this.selectedIndex;this.move(r)},mouseDownHandler(n){this.x=n.clientX,this.leftWidth=this.$refs.sliderLeft.getBoundingClientRect().width,document.addEventListener("mousemove",this.mouseMoveHandler),document.addEventListener("mouseup",this.mouseUpHandler)},touchStartHandler(n){this.x=n.touches[0].pageX,this.leftWidth=this.$refs.sliderLeft.getBoundingClientRect().width,document.addEventListener("touchmove",this.touchMoveHandler),document.addEventListener("touchend",this.touchEndHandler)},mouseMoveHandler(n){this.moveHandler(n.clientX)},touchMoveHandler(n){this.moveHandler(n.touches[0].pageX)},moveHandler(n){const e=this.steps.length,r=n-this.x,v=100/(e-1),o=this.$refs.sliderContainer.getBoundingClientRect().width;let t=(this.leftWidth+r)*100/o,l=this.selectedIndex*v;t=Math.max(t,0),t=Math.min(t,100),t>=l+v/2&&this.selectedIndex<this.steps.length?(t=l+v,this.selectedIndex+=1,this.move(t)):t<=l-v/2&&this.selectedIndex>0&&(t=l-v,this.selectedIndex-=1,this.move(t))},mouseUpHandler(){this.$emit("value-changed",this.selectedIndex),document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("mouseup",this.mouseUpHandler)},touchEndHandler(){this.$emit("value-changed",this.selectedIndex),document.removeEventListener("touchmove",this.touchMoveHandler),document.removeEventListener("touchend",this.touchEndHandler)}},watch:{value(n){n!==this.selectedIndex&&(this.selectedIndex=n,this.setKnobPos())}}},Gt=_(Yt,[["render",Ft],["__scopeId","data-v-5d19784e"]]),Ut={},qt={width:"14",height:"21",viewBox:"0 0 14 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Wt(n,e){return i(),u("svg",qt,e[0]||(e[0]=[s("path",{d:"M0 0L14 10.5L0 21C0 21 3.31579 14.7139 3.31579 10.5C3.31579 6.28606 0 0 0 0Z",fill:"#141414"},null,-1)]))}const K=_(Ut,[["render",Wt]]),zt={class:"values-toggler",style:{border:"0.09vh solid rgba(255,255,255,0.25)"}},Kt={class:"values-toggler__label"},Qt={class:"values-toggler__container"},jt={class:"values-toggler__value"};function Xt(n,e,r,v,o,t){const l=d("IconArrow");return i(),u("div",zt,[s("div",Kt,[L(n.$slots,"default")]),s("div",Qt,[s("div",{class:"values-toggler__button",onClick:e[0]||(e[0]=(...g)=>t.prev&&t.prev(...g)),style:{background:"rgba(248, 246, 237, 0.1)"}},[a(l)]),s("div",jt,y(r.data[t.currentValueIndex].label),1),s("div",{class:"values-toggler__button",onClick:e[1]||(e[1]=(...g)=>t.next&&t.next(...g)),style:{background:"rgba(248, 246, 237, 0.1)"}},[a(l)])])])}const Jt={props:{data:{type:Array,default:()=>[]},value:{required:!0}},components:{IconArrow:K},computed:{currentValueIndex(){return this.data.findIndex(({value:n})=>n===this.value)}},methods:{next(){const n=this.currentValueIndex+1<this.data.length?this.currentValueIndex+1:0;this.onChangeValue(this.data[n].value)},prev(){const n=this.currentValueIndex-1>=0?this.currentValueIndex-1:this.data.length-1;this.onChangeValue(this.data[n].value)},onChangeValue(n){this.$emit("change",n)}}},en=_(Jt,[["render",Xt]]),tn={class:"menu-settings__graphic"},nn={class:"menu-settings__graphic-capacity",style:{"border-bottom":"0.09vh solid rgba(248, 246, 237, 0.25)"}},sn={class:"menu-settings__graphic-content"},on={class:"range",style:{border:"0.09vh solid rgba(255,255,255,0.25)"}},rn={class:"range__content"},ln={class:"range__value",style:{color:"white"}},an={class:"menu-settings__cols"},dn={class:"range"},un={class:"range__content",style:{border:"0.09vh solid rgba(255,255,255,0.25)"}},cn={class:"range__value",style:{color:"white"}},_n={class:"menu-settings__cols"},gn={class:"menu-settings__cols"};function mn(n,e,r,v,o,t){const l=d("SettingsLabelBar"),g=d("ToggleContainer"),f=d("RangeSlider"),h=d("ValuesToggler"),b=d("SliderWithSteps");return i(),u("div",tn,[s("div",nn,[e[10]||(e[10]=s("div",{class:"menu-settings__graphic-capacity__text",style:{color:"rgba(248, 246, 237, 0.8)"}},"Текущая нагрузка",-1)),a(l,{labels:[["Низкая","#F8F6ED"],["Средняя","#F0C93F"],["Высокая","#EA4F3D"]],value:t.settings.capacity,max:60},null,8,["value"])]),s("div",sn,[a(g,{active:t.settings.customEnabled,onChange:e[0]||(e[0]=p=>t.setProperty("customEnabled",p)),large:!0},{default:c(()=>e[11]||(e[11]=[m("Пользовательские настройки")])),_:1},8,["active"]),t.settings.customEnabled?(i(),u(H,{key:0},[s("div",on,[s("div",rn,[e[12]||(e[12]=s("div",{class:"range__title"},"Разрешение",-1)),s("div",ln,y(Math.round(t.settings.resolution))+"%",1)]),a(f,{min:20,max:100,value:t.settings.resolution,style:{bottom:"-9px"},onValueChanged:e[1]||(e[1]=p=>t.setProperty("resolution",p)),bgColor:"white",lineHeight:"1px",lineBg:"rgba(255, 255, 255, 0.25)"},null,8,["value"])]),t.isMobile?w("",!0):(i(),C(g,{key:0,active:t.settings.vSync,onChange:e[2]||(e[2]=p=>t.setProperty("vSync",p))},{default:c(()=>e[13]||(e[13]=[m("Вертикальная синхронизация")])),_:1},8,["active"])),s("div",an,[a(h,{value:t.settings.maxFPS,onChange:e[3]||(e[3]=p=>t.setProperty("maxFPS",p)),data:[{label:"30 FPS",value:30},{label:"60 FPS",value:60}]},{default:c(()=>e[14]||(e[14]=[m("Максимальный ФПС")])),_:1},8,["value"]),s("div",dn,[s("div",un,[e[15]||(e[15]=s("div",{class:"range__title"},"Дистанция прорисовки",-1)),s("div",cn,y(Math.round(t.settings.drawDistance))+"%",1)]),a(f,{min:20,max:100,value:t.settings.drawDistance,style:{bottom:"9px"},onValueChanged:e[4]||(e[4]=p=>t.setProperty("drawDistance",p)),bgColor:"white",lineHeight:"1px",lineBg:"rgba(255, 255, 255, 0.25)"},null,8,["value"])])]),s("div",_n,[a(b,{value:t.settings.texturesQuality,bgColor:"white",onValueChanged:e[5]||(e[5]=p=>t.setProperty("texturesQuality",p)),steps:o.rangeData.textures},{default:c(()=>e[16]||(e[16]=[m("Качество текстур")])),_:1},8,["value","steps"]),a(b,{value:t.settings.shadowsQuality,bgColor:"white",onValueChanged:e[6]||(e[6]=p=>t.setProperty("shadowsQuality",p)),steps:o.rangeData.shadows},{default:c(()=>e[17]||(e[17]=[m("Качество теней")])),_:1},8,["value","steps"])]),s("div",gn,[a(g,{active:t.settings.postProcessing,onValueChanged:e[7]||(e[7]=p=>t.setProperty("postProcessing",p))},{default:c(()=>e[18]||(e[18]=[m("Постобработка")])),_:1},8,["active"]),a(b,{value:t.settings.antiAliasing,bgColor:"white",onValueChanged:e[8]||(e[8]=p=>t.setProperty("antiAliasing",p)),steps:o.rangeData.antiAliasing},{default:c(()=>e[19]||(e[19]=[m("Сглаживание")])),_:1},8,["value","steps"])])],64)):(i(),C(b,{key:1,value:t.settings.graphicsQuality,bgColor:"white",onValueChanged:e[9]||(e[9]=p=>t.setProperty("graphicsQuality",p)),steps:o.rangeData.graphics},{default:c(()=>e[20]||(e[20]=[m("Качество графики")])),_:1},8,["value","steps"]))])])}const vn={components:{SettingsRow:E,SettingsLabelBar:Bt,ToggleContainer:A,RangeSlider:F,SliderWithSteps:Gt,ValuesToggler:en},data(){return{rangeData:{textures:["Низкое","Нормальное","Высокое"],shadows:["Выключены","Низкое","Нормальное","Высокое","Максимальное"],antiAliasing:["Выключено","Нормальное","Высокое"],graphics:["Минимальное","Низкое","Нормальное","Высокое","Максимальное"]}}},computed:{settings(){return this.$store.getters["settings/settings"]},isMobile(){return window.App.isMobile}},methods:{setProperty(n,e){this.$store.commit("settings/setSettingsProperty",{key:n,value:e}),this.$parent.save()}}},hn=_(vn,[["render",mn],["__scopeId","data-v-fc9f113f"]]),pn={class:"menu-settings__tab"},fn={class:"range",style:{border:"0.09vh solid rgba(255,255,255,0.25)"}},Cn={class:"range__content"},wn={class:"range__value",style:{color:"white"}};function yn(n,e,r,v,o,t){const l=d("SettingsRow"),g=d("RangeSlider");return i(),u("div",pn,[a(l,{title:"Параметры звука"}),s("div",fn,[s("div",Cn,[e[1]||(e[1]=s("div",{class:"range__title"},"Громкость",-1)),s("div",wn,y(t.settings.soundsVolume)+"%",1)])]),a(g,{min:0,max:100,value:t.settings.soundsVolume,bgColor:"white",lineHeight:"1px",lineBg:"rgba(255, 255, 255, 0.25)",onValueChanged:e[0]||(e[0]=f=>t.setProperty("soundsVolume",f)),onTouchend:t.onTouchEnd},{default:c(()=>e[2]||(e[2]=[m("Громкость")])),_:1},8,["value","onTouchend"])])}const bn={components:{SettingsRow:E,ToggleContainer:A,RangeSlider:F},data(){return{}},computed:{settings(){return this.$store.getters["settings/settings"]}},methods:{setProperty(n,e){this.$store.commit("settings/setSettingsProperty",{key:n,value:e})},onTouchEnd(){this.$parent.save()}}},Sn=_(bn,[["render",yn],["__scopeId","data-v-aee4f1f8"]]),xn={class:"route-button__label"},Ln={class:"route-button__button"};function $n(n,e,r,v,o,t){const l=d("IconArrow");return i(),u("div",{class:"route-button",onClick:e[0]||(e[0]=g=>n.$emit("click"))},[s("div",xn,[L(n.$slots,"default")]),s("div",Ln,[a(l)])])}const kn={components:{IconArrow:K}},In=_(kn,[["render",$n]]),Pn={class:"menu-settings__tab"};function Mn(n,e,r,v,o,t){const l=d("ToggleContainer"),g=d("SettingsRow"),f=d("RouteButton");return i(),u("div",Pn,[a(g,{title:"Управление автомобилем"},{default:c(()=>[a(l,{active:t.settings.useJoystick,onChange:e[0]||(e[0]=h=>t.setProperty("useJoystick",h))},{default:c(()=>e[2]||(e[2]=[m("Джойстик")])),_:1},8,["active"]),a(l,{active:t.settings.useNativeKeyboard,onChange:e[1]||(e[1]=h=>t.setProperty("useNativeKeyboard",h))},{default:c(()=>e[3]||(e[3]=[m("Системная клавиатура")])),_:1},8,["active"])]),_:1}),r.isMainMenu?w("",!0):(i(),C(g,{key:0,title:"Настройка кнопок"},{default:c(()=>[a(f,{onClick:t.gotoControlsEditor},{default:c(()=>e[4]||(e[4]=[m("Перейти в редактор кнопок")])),_:1},8,["onClick"])]),_:1}))])}const Tn={props:["isMainMenu"],components:{SettingsRow:E,ToggleContainer:A,RouteButton:In},data(){return{}},computed:{settings(){return this.$store.getters["settings/settings"]}},methods:{setProperty(n,e){this.$store.commit("settings/setSettingsProperty",{key:n,value:e})},gotoControlsEditor(){this.$store.commit("settings/setEditableMode",!0),window.hideInterface("Menu"),window.setDrawLabelStatus(!1),window.setHudStatus(!1)}}},Vn=_(Tn,[["render",Mn]]),Bn={class:"menu-settings__tab menu-settings__development"};function Hn(n,e,r,v,o,t){const l=d("Input"),g=d("SettingsRow"),f=d("ToggleContainer");return i(),u("div",Bn,[a(g,{title:"Канал обновлений"},{default:c(()=>[a(l,{placeholder:"main",modelValue:t.settings.updateChannel,"onUpdate:modelValue":e[0]||(e[0]=h=>t.setProperty("updateChannel",h))},null,8,["modelValue"])]),_:1}),a(g,{title:"Дебаг"},{default:c(()=>[a(f,{active:t.isConsoleActive,onChange:t.toggleConsole},{default:c(()=>e[3]||(e[3]=[m("Показывать консоль разработчика")])),_:1},8,["active","onChange"])]),_:1}),a(g,{title:"Интерфейсы"},{default:c(()=>[a(f,{active:t.settings.customInterfaces,onChange:e[1]||(e[1]=h=>t.setProperty("customInterfaces",h))},{default:c(()=>e[4]||(e[4]=[m("Загрузка интерфейсов по HTTP")])),_:1},8,["active"]),t.settings.customInterfaces?(i(),C(l,{key:0,placeholder:"Ссылка на интерфейсы",modelValue:t.settings.customInterfacesAddress,"onUpdate:modelValue":e[2]||(e[2]=h=>t.setProperty("customInterfacesAddress",h))},null,8,["modelValue"])):w("",!0)]),_:1})])}const En={components:{SettingsRow:E,ToggleContainer:A,Input:Y},data(){return{hasChanges:!1,saveInterval:null}},computed:{settings(){return this.$store.getters["settings/settings"]},isConsoleActive(){return this.$root.isConsoleActive}},methods:{setProperty(n,e){this.$store.commit("settings/setSettingsProperty",{key:n,value:e}),this.hasChanges=!0},toggleConsole(n){window.App.setConsoleActive(n)}},created(){this.saveInterval=setInterval(()=>{this.hasChanges&&(this.$parent.save(),this.hasChanges=!1)},1e3)},unmounted(){clearInterval(this.saveInterval)}},An=_(En,[["render",Hn]]),Zn={},Nn={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Dn(n,e){return i(),u("svg",Nn,e[0]||(e[0]=[s("path",{d:"M12 4C12 6.20914 10.2091 8 8 8C5.79086 8 4 6.20914 4 4C4 1.79086 5.79086 0 8 0C10.2091 0 12 1.79086 12 4Z",fill:"#272727"},null,-1),s("path",{d:"M13.0057 16H16C16 13.8783 15.1571 11.8434 13.6569 10.3431C12.1566 8.84286 10.1217 8 8 8C5.87827 8 3.84344 8.84285 2.34315 10.3431C0.842855 11.8434 0 13.8783 0 16H3.32941C3.58817 14.3629 4.17347 12.6788 5.15017 11.5556C4.72907 12.4978 4.29014 14.2264 4.56334 16L11.7717 16C12.0449 14.2264 11.606 12.4978 11.1849 11.5556C12.1616 12.6788 12.7469 14.3629 13.0057 16Z",fill:"#272727"},null,-1)]))}const On=_(Zn,[["render",Dn]]),Rn={},Fn={width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Yn(n,e){return i(),u("svg",Fn,e[0]||(e[0]=[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.35998 6.66656C5.18866 6.65224 6.66667 5.16539 6.66667 3.33333C6.66667 1.49238 5.17428 0 3.33333 0C1.49238 0 0 1.49238 0 3.33333C0 4.74148 0.873156 5.94569 2.10758 6.43407C2.50874 4.17587 3.99263 2.29205 6.00344 1.33839C6.41961 1.89463 6.66608 2.5852 6.66608 3.33334C6.66608 5.1652 5.18839 6.65193 3.35998 6.66656Z",fill:"white"},null,-1),s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 14.6665C12.866 14.6665 16 11.5325 16 7.6665C16 3.80051 12.866 0.666504 9 0.666504C7.92778 0.666504 6.91187 0.907575 6.0035 1.33847C6.41963 1.8947 6.66607 2.58524 6.66607 3.33334C6.66607 5.17429 5.17369 6.66667 3.33274 6.66667C2.90035 6.66667 2.48718 6.58434 2.10807 6.4345C2.03705 6.83446 2 7.24615 2 7.6665C2 11.5325 5.13401 14.6665 9 14.6665Z",fill:"white"},null,-1)]))}const Gn=_(Rn,[["render",Yn]]),Un={},qn={width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Wn(n,e){return i(),u("svg",qn,e[0]||(e[0]=[s("path",{d:"M2.182 4.9095V2.90934L0 2.182V10.91L2.182 10.1827V6.90967L2.7275 8.72801L5.455 10.6373L8.72801 13.092V0L2.182 4.9095Z",fill:"white"},null,-1),s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.5456 6.54592C14.5456 4.72235 13.7871 3.09484 12.5957 1.98729L13.5861 0.921875C15.0709 2.3021 16.0003 4.31443 16.0003 6.54592C16.0003 8.77741 15.0709 10.7897 13.5861 12.17L12.5957 11.1045C13.7871 9.997 14.5456 8.36949 14.5456 6.54592Z",fill:"white"},null,-1),s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.9103 6.54596C10.9103 6.21254 10.7499 5.8935 10.457 5.66013L11.3635 4.52246C11.9627 4.99989 12.365 5.7208 12.365 6.54596C12.365 7.37113 11.9627 8.09204 11.3635 8.56947L10.457 7.4318C10.7499 7.19843 10.9103 6.87939 10.9103 6.54596Z",fill:"white"},null,-1)]))}const zn=_(Un,[["render",Wn]]),Kn={},Qn={width:"20",height:"13",viewBox:"0 0 20 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function jn(n,e){return i(),u("svg",Qn,e[0]||(e[0]=[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 7H0V13H6V7ZM0.5 12.5V8L5.5 7.5L1.5 8.5L0.5 12.5Z",fill:"#F8F6ED"},null,-1),s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13 7H7V13H13V7ZM7.5 12.5V8L12.5 7.5L8.5 8.5L7.5 12.5Z",fill:"#F8F6ED"},null,-1),s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11 0H5V6H11V0ZM5.5 5.5V1L10.5 0.5L6.5 1.5L5.5 5.5Z",fill:"#F8F6ED"},null,-1),s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20 7H14V13H20V7ZM14.5 12.5V8L19.5 7.5L15.5 8.5L14.5 12.5Z",fill:"#F8F6ED"},null,-1)]))}const Xn=_(Kn,[["render",jn]]),Jn=""+new URL("back-d4659414.svg",import.meta.url).href,es={class:"menu-settings"},ts={class:"menu-settings__top"},ns={class:"menu-settings__container"};function ss(n,e,r,v,o,t){const l=d("IconGraphic"),g=d("Tab"),f=d("IconControls"),h=d("IconSound"),b=d("Tabs"),p=d("GraphicTab"),S=d("ControlsTab"),V=d("SoundTab"),$=d("DevelopmentTab"),B=R("touch");return i(),u("div",es,[s("div",ts,[s("div",{class:"menu-settings__back",onClick:e[0]||(e[0]=(...M)=>t.back&&t.back(...M))},e[3]||(e[3]=[s("img",{src:Jn},null,-1)])),s("img",{class:"menu-main__logo",onClick:e[1]||(e[1]=(...M)=>t.onClickLogo&&t.onClickLogo(...M)),src:N})]),s("div",ns,[a(b,{class:"menu-settings__tabs"},{default:c(()=>[T((i(),C(g,{active:o.tab==o.TAB_TYPE.GRAPHICS},{default:c(()=>[a(l),e[4]||(e[4]=m("Графика"))]),_:1},8,["active"])),[[B,()=>t.selectTab(o.TAB_TYPE.GRAPHICS)]]),T((i(),C(g,{active:o.tab==o.TAB_TYPE.CONTROLS},{default:c(()=>[a(f),e[5]||(e[5]=m("Управление"))]),_:1},8,["active"])),[[B,()=>t.selectTab(o.TAB_TYPE.CONTROLS)]]),T((i(),C(g,{active:o.tab==o.TAB_TYPE.SOUND},{default:c(()=>[a(h),e[6]||(e[6]=m("Звук"))]),_:1},8,["active"])),[[B,()=>t.selectTab(o.TAB_TYPE.SOUND)]]),t.isDevelopment?T((i(),C(g,{key:0,active:o.tab==o.TAB_TYPE.DEVELOPMENT},{default:c(()=>e[7]||(e[7]=[m("Разработка")])),_:1},8,["active"])),[[B,()=>t.selectTab(o.TAB_TYPE.DEVELOPMENT)]]):w("",!0)]),_:1}),s("div",{class:x(["menu-settings__content",{overlay:o.overlay}]),onScroll:e[2]||(e[2]=(...M)=>t.onScroll&&t.onScroll(...M)),ref:"content"},[o.tab==o.TAB_TYPE.GRAPHICS?(i(),C(p,{key:o.TAB_TYPE.GRAPHICS})):w("",!0),o.tab==o.TAB_TYPE.CONTROLS?(i(),C(S,{key:o.TAB_TYPE.CONTROLS,isMainMenu:r.isMainMenu},null,8,["isMainMenu"])):w("",!0),o.tab==o.TAB_TYPE.SOUND?(i(),C(V,{key:o.TAB_TYPE.SOUND})):w("",!0),o.tab==o.TAB_TYPE.DEVELOPMENT?(i(),C($,{key:o.TAB_TYPE.DEVELOPMENT})):w("",!0)],34)])])}const os={props:["isMainMenu"],components:{Heading:P,Tabs:wt,Tab:xt,GraphicTab:hn,SoundTab:Sn,ControlsTab:Vn,DevelopmentTab:An,IconPlayer:On,IconGraphic:Gn,IconSound:zn,IconControls:Xn},data(){return{TAB_TYPE:{ACCOUNT:0,GRAPHICS:1,SOUND:2,CONTROLS:3,DEVELOPMENT:4},tab:1,opacity:0,overlay:!1,developerModeCount:0}},unmounted(){this.save()},mounted(){this.setOverlay()},computed:{isDevelopment(){return this.$root.isDevelopment}},methods:{onClickLogo(){++this.developerModeCount>50&&(window.App.isDevelopment=!0,window.App.engine=="default"&&engine.trigger("ActivateDevelopmentMode"))},back(){this.$emit("back")},selectTab(n){this.tab=n,this.$nextTick(()=>this.setOverlay())},setOverlay(){const n=this.$refs.content;this.overlay=n.scrollHeight>n.offsetHeight},setMaskOpacity(n){document.documentElement.style.setProperty("--mask-opacity",`rgba(0, 0, 0, ${n})`)},maskFadeOut(){this.opacity<1-.1&&(this.opacity+=.1,this.setMaskOpacity(this.opacity),requestAnimationFrame(this.maskFadeOut))},maskFadeIn(){this.opacity>.1&&(this.opacity-=.1,this.setMaskOpacity(this.opacity),requestAnimationFrame(this.maskFadeIn))},onScroll(n){const r=this.$refs.content;r.scrollTop>=r.scrollHeight-r.offsetHeight-25?this.maskFadeOut():this.maskFadeIn()},save(){window.App.engine=="default"&&window.saveSettings()}}},is=_(os,[["render",ss]]),rs={},ls={width:"16",height:"18",viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function as(n,e){return i(),u("svg",ls,e[0]||(e[0]=[s("path",{d:"M16 9L1.66869e-07 18L9.53674e-07 -6.99382e-07L16 9Z",fill:"#272727"},null,-1)]))}const Q=_(rs,[["render",as]]),ds={},us={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function cs(n,e){return i(),u("svg",us,e[0]||(e[0]=[s("path",{d:"M20 11.7578V8.24219H17.4055C17.2189 7.44684 16.9088 6.69781 16.4796 6.00602L18.2867 4.19957L15.801 1.71391L13.994 3.52035C13.3062 3.09691 12.5475 2.78277 11.7578 2.59512V0H8.24219V2.59512C7.45254 2.78281 6.69379 3.09695 6.00602 3.52039L4.19898 1.71395L1.71332 4.19961L3.52035 6.00605C3.09121 6.69781 2.78105 7.44684 2.59453 8.24219H0V11.7578H2.59453C2.78105 12.5532 3.09121 13.3022 3.52035 13.994L1.71332 15.8004L4.19898 18.2861L6.00602 16.4796C6.69379 16.9031 7.45254 17.2172 8.24219 17.4049V20H11.7578V17.4049C12.5475 17.2172 13.3062 16.903 13.994 16.4796L15.801 18.2861L18.2867 15.8004L16.4796 13.9939C16.9088 13.3021 17.2189 12.5531 17.4055 11.7578H20V11.7578ZM10 14.1016C7.73863 14.1016 5.89844 12.2614 5.89844 10C5.89844 7.73863 7.73863 5.89844 10 5.89844C12.2614 5.89844 14.1016 7.73863 14.1016 10C14.1016 12.2614 12.2614 14.1016 10 14.1016Z",fill:"white"},null,-1)]))}const j=_(ds,[["render",cs]]),_s={},gs={width:"27",height:"20",viewBox:"0 0 27 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function ms(n,e){return i(),u("svg",gs,e[0]||(e[0]=[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.5422 7H8V13H19.5422C18.2679 17.0571 14.4776 20 10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C14.4776 0 18.2679 2.94289 19.5422 7Z",fill:"white"},null,-1),s("rect",{x:"10",y:"9",width:"12",height:"2",fill:"white"},null,-1),s("path",{d:"M27 10L22 14L22 6L27 10Z",fill:"white"},null,-1)]))}const X=_(_s,[["render",ms]]),vs={class:"menu-main"},hs={key:0,class:"menu-main__logo",src:N},ps={key:0,class:"menu-main__nav"};function fs(n,e,r,v,o,t){const l=d("Player"),g=d("SettingsScreen"),f=d("IconPlay"),h=d("Button"),b=d("IconSettings"),p=d("IconBack"),S=d("IconExit");return i(),u("div",vs,[a(k,{name:"fade"},{default:c(()=>[t.isShowNavigation?(i(),C(l,{key:0,class:"menu-main__player"})):w("",!0)]),_:1}),a(k,{name:"fade"},{default:c(()=>[o.page=="main"?(i(),u("img",hs)):w("",!0)]),_:1}),a(k,{name:"fade"},{default:c(()=>[o.page=="settings"?(i(),C(g,{key:0,isMainMenu:!r.targetPage,onBack:e[0]||(e[0]=V=>t.settingsScreenBack())},null,8,["isMainMenu"])):w("",!0)]),_:1}),a(k,{name:"fade"},{default:c(()=>[t.isShowNavigation?(i(),u("div",ps,[r.targetPage?(i(),C(h,{key:1,active:o.page=="main",onClick:e[2]||(e[2]=()=>t.next())},{default:c(()=>[a(f),e[7]||(e[7]=m("Продолжить"))]),_:1},8,["active"])):(i(),C(h,{key:0,active:o.page=="main",onClick:e[1]||(e[1]=()=>t.play())},{default:c(()=>[a(f),e[6]||(e[6]=m("Играть"))]),_:1},8,["active"])),a(h,{active:o.page=="settings",onClick:e[3]||(e[3]=()=>t.onSettingsSelect())},{default:c(()=>[a(b),e[8]||(e[8]=m("Настройки"))]),_:1},8,["active"]),r.targetPage?w("",!0):(i(),C(h,{key:2,onClick:e[4]||(e[4]=()=>t.back())},{default:c(()=>[a(p),e[9]||(e[9]=m("Выбор сервера"))]),_:1})),a(h,{onClick:e[5]||(e[5]=()=>t.exit())},{default:c(()=>[a(S),e[10]||(e[10]=m("Выход"))]),_:1})])):w("",!0)]),_:1})])}const Cs={props:["targetPage"],components:{Button:D,Player:z,Overlay:G,SelectServer:W,IconBack:se,IconPlay:Q,IconSettings:j,IconExit:X,IconRect:U,SettingsScreen:is},data(){return{page:"main"}},created(){this.targetPage&&(this.page=this.targetPage)},computed:{isShowNavigation(){return!["settings"].includes(this.page)}},methods:{next(){this.$emit("target:set","pause",null)},back(){this.$emit("back")},settingsScreenBack(){this.targetPage?window.interface("Menu").setPage("pause"):this.setPage("main")},play(){engine.trigger("StartGame"),window.hideInterface("Menu"),window.interface("Menu").setPage("pause"),window.App.engine=="default"&&window.openInterface("Connect")},exit(){engine.trigger("ExitGame")},onSettingsSelect(){this.setPage("settings")},setPage(n){this.page=n}}},ws=_(Cs,[["render",fs]]),ys={},bs={width:"26",height:"22",viewBox:"0 0 26 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ss(n,e){return i(),u("svg",bs,e[0]||(e[0]=[s("path",{d:"M2.55795 4.82285L0 14.746L5.92982 19.3541L5.9573 19.3499L8.60288 4.1579L3.80117 0L2.75625 4.05358L3.95322 3.9937L2.55795 4.82285Z",fill:"white"},null,-1),s("path",{d:"M12.0117 18.4325L5.9767 19.347L10.3693 4.28597L15.6608 2.91847L19.4098 6.70588L14.5459 20.9927L12.0117 18.4325Z",fill:"white"},null,-1),s("path",{d:"M16.073 22L22.0468 20.2757L22.9318 16.768L22.1988 17.2036L23.0309 16.3755L26 4.60812L19.462 6.75857L19.4348 6.73114L16.073 22Z",fill:"white"},null,-1)]))}const xs=_(ys,[["render",Ss]]),Ls=""+new URL("pause-image-512a3755.png",import.meta.url).href,$s={class:"menu-pause iface-container"},ks={class:"menu-pause__top"},Is={class:"menu-pause__info"},Ps={class:"pause-time"},Ms={class:"menu-main__nav"};function Ts(n,e,r,v,o,t){const l=d("Player"),g=d("IconPlay"),f=d("Button"),h=d("IconNavigation"),b=d("IconSettings"),p=d("IconExit");return i(),u("div",$s,[s("div",ks,[e[4]||(e[4]=s("img",{class:"menu-main__logo",src:N},null,-1)),a(l,{class:"menu-main__player"})]),e[10]||(e[10]=s("img",{class:"menu-pause__image",src:Ls},null,-1)),s("div",Is,[s("div",Ps,y(t.pauseTime),1),e[5]||(e[5]=s("div",{class:"text"},[s("b",null,"НА "),m("ПАУЗЕ")],-1))]),s("div",Ms,[a(f,{active:!0,onClick:e[0]||(e[0]=S=>t.play())},{default:c(()=>[a(g),e[6]||(e[6]=m("Продолжить"))]),_:1}),a(f,{onClick:e[1]||(e[1]=S=>t.navigation())},{default:c(()=>[a(h),e[7]||(e[7]=m("Навигация"))]),_:1}),a(f,{onClick:e[2]||(e[2]=S=>t.settings())},{default:c(()=>[a(b),e[8]||(e[8]=m("Настройки"))]),_:1}),a(f,{onClick:e[3]||(e[3]=S=>t.exit())},{default:c(()=>[a(p),e[9]||(e[9]=m("Выход"))]),_:1})])])}const Vs={components:{Button:D,Player:z,IconPlay:Q,IconSettings:j,IconExit:X,IconNavigation:xs},computed:{player(){return this.$store.getters["menu/player"]},pauseTime(){return this.$store.getters["menu/pauseTime"]},timerId(){return this.$store.getters["menu/timerId"]}},data(){return{}},created(){this.$data.noAdaptation=!0},beforeUnmount(){clearInterval(this.timerId)},methods:{shown(){Z(()=>{Z(()=>{clearInterval(this.timerId);const n=setInterval(()=>this.$store.dispatch("menu/addPauseTime"),1e3);this.$store.commit("menu/setTimerId",n)})})},hidden(){clearInterval(this.timerId),this.$store.dispatch("menu/resetPauseTime")},play(){window.hideInterface("Menu")},navigation(){window.hideInterface("Menu"),window.showInterface("Map")},settings(){this.$emit("target:set","main","settings")},exit(){engine.trigger("ExitGame")}}},Bs=_(Vs,[["render",Ts]]);function Hs(n,e,r,v,o,t){const l=d("WelcomeScreen"),g=d("MainScreen"),f=d("PauseScreen");return i(),u("div",{class:x(["menu iface-container",{"pause-bg":o.page=="pause"||o.targetPage}])},[a(ee,{name:"fade"},{default:c(()=>[o.page=="welcome"?(i(),C(l,{"onMenu:next":t.openMain,key:0,ref:"welcomeScreen",targetPage:o.targetPage},null,8,["onMenu:next","targetPage"])):w("",!0),o.page=="main"?(i(),C(g,{key:1,"onPage:set":t.setPage,"onTarget:set":t.setTargetPage,ref:"mainScreen",targetPage:o.targetPage,onBack:e[0]||(e[0]=h=>t.setPage("welcome"))},null,8,["onPage:set","onTarget:set","targetPage"])):w("",!0),o.page=="pause"?(i(),C(f,{key:2,"onPage:set":t.setPage,"onTarget:set":t.setTargetPage,ref:"pauseScreen",targetPage:o.targetPage},null,8,["onPage:set","onTarget:set","targetPage"])):w("",!0)]),_:1})],2)}const Es={props:["openParams"],components:{WelcomeScreen:ot,MainScreen:ws,PauseScreen:Bs},data(){return{page:"welcome",targetPage:null}},created(){this.$data.noAdaptation=!0,this.openParams&&this.setPage(this.openParams[0])},mounted(){window.setIsLoading(!1)},computed:{...te({isPaused:"menu/isPaused",settings:"settings/settings"})},methods:{resetControls(){const n=this.$store.getters["settings/controlsVersion"],e=this.$store.getters["settings/requiredControlsVersion"];n!==e&&(this.$store.commit("settings/resetControls"),this.$store.commit("settings/setControlsVersion",e),window.saveControlsSettings(this.settings.controls))},openMain(){this.page="main",this.resetControls()},setPage(n){this.page=n},setTargetPage(n,e){this.page=n,this.targetPage=e},show(){window.showInterface("Menu").show=!0}}},Ys=_(Es,[["render",Hs],["__scopeId","data-v-75783326"]]);export{Ys as default};
